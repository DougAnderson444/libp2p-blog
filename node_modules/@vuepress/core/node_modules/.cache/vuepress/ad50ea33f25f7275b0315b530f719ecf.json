{"remainingRequest":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/SearchCategoriesAndTags.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/SearchCategoriesAndTags.vue","mtime":1669098253301},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js","mtime":1669100514953},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js","mtime":1669100514895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICd2dWUtbXVsdGlzZWxlY3QnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgY291bnRseSBmcm9tICcuLi8uLi91dGlsL2NvdW50bHknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlYXJjaENhdGVnb3JpZXNBbmRUYWdzJywKICBjb21wb25lbnRzOiB7CiAgICBNdWx0aXNlbGVjdAogIH0sCiAgcHJvcHM6IHsKICAgIHRhZ3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFsnbGlzdCcsICdvZicsICd0YWdzJywgJyMnXQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkVGFnczogW10sCiAgICAgIHNlYXJjaGVkV29yZHM6IFtdLAogICAgICBzZWxlY3RlZElucHV0OiAwLAogICAgICB0YWdzTGltaXQ6IDk5CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhcHBTdGF0ZScsIFsnY2F0ZWdvcmllc0xpc3QnLCAndGFnc0xpc3QnLCAnYWN0aXZlQ2F0ZWdvcnknLCAnYWN0aXZlVGFncycsICdzZWFyY2hlZFRleHQnXSksCiAgICByZXNvbHZlZFRhZ3MoKSB7CiAgICAgIHJldHVybiB0aGlzLnRhZ3MubWFwKHRhZyA9PiAoewogICAgICAgIG5hbWU6IHRhZy5uYW1lLAogICAgICAgIHZhbHVlOiB0YWcuc2x1ZwogICAgICB9KSk7CiAgICB9LAogICAgcXVlcnlQcm9wdGVydHlXYXRjaGxpc3QoKSB7CiAgICAgIHJldHVybiBgJHt0aGlzLmFjdGl2ZVRhZ3N9fCR7dGhpcy5zZWFyY2hlZFRleHR9YDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBxdWVyeVByb3B0ZXJ0eVdhdGNobGlzdCgpIHsKICAgICAgdGhpcy51cGRhdGVUYWdzV2l0aFF1ZXJ5KCk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5jYWxjdWxhdGVUYWdzTGltaXQoKTsKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy50YWdzRXZlbnQpOwogICAgfQogIH0sCiAgZGVzdHJveWVkKCkgewogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnRhZ3NFdmVudCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB0YWdzRXZlbnQoKSB7CiAgICAgIGlmIChbJ3h4bCddLmluY2x1ZGVzKHRoaXMuJG1xKSkgewogICAgICAgIHRoaXMuY2FsY3VsYXRlVGFnc0xpbWl0KCk7CiAgICAgIH0KICAgIH0sCiAgICBjYWxjdWxhdGVUYWdzTGltaXQobmV3VGFncykgewogICAgICAvLyBUaGUgbWF4IHZhbHVlIGEgY2hhciBjaGFuIG9jY3VweSBpbiBweAogICAgICBjb25zdCBtdWx0aXBsaWVyID0gMTI7CiAgICAgIC8vIFdpZHRoIG9mIHRoZSBoZWxwIHRleHQgLSAiWCBvciBtb3JlIgogICAgICBjb25zdCBoZWxwVGV4dFdpZHRoID0gNzU7CiAgICAgIC8vIFBhZGRpbmcgYW5kIG1hcmdpbiBmb3IgdGhlIGVhY2ggdGFnCiAgICAgIGNvbnN0IHRhZ1BhZGRpbmcgPSA0NjsKICAgICAgbGV0IGxpbWl0ID0gdGhpcy50YWdzTGlzdC5sZW5ndGg7CiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLiRyZWZzLnNlbGVjdDEpIHsKICAgICAgICBjb25zdCB0YWdzRWwgPSB0aGlzLiRyZWZzLnNlbGVjdDEuJGVsLmNoaWxkTm9kZXNbMl07CiAgICAgICAgY29uc3QgdGFnc1N0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhZ3NFbCk7CiAgICAgICAgLy8gV2lkdGggb2YgdGhlIHRhZ3MgY29udGFpbmVyCiAgICAgICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSB0YWdzRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSBwYXJzZUZsb2F0KHRhZ3NTdHlsZXMucGFkZGluZ0xlZnQpIC0gcGFyc2VGbG9hdCh0YWdzU3R5bGVzLnBhZGRpbmdSaWdodCk7CiAgICAgICAgY29uc3QgdGFnTmFtZXMgPSAobmV3VGFncyB8fCB0aGlzLnNlbGVjdGVkVGFncykubWFwKHRhZyA9PiB0YWcubmFtZSk7CiAgICAgICAgY29uc3QgdGFncyA9IHRhZ05hbWVzLm1hcCh0YWdOYW1lID0+IHRhZ1BhZGRpbmcgKyB0YWdOYW1lLmxlbmd0aCAqIG11bHRpcGxpZXIpOwogICAgICAgIGNvbnN0IGVzdGltYXRlZFRhZ3NXaWR0aCA9IHRhZ3MucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7CiAgICAgICAgaWYgKGVzdGltYXRlZFRhZ3NXaWR0aCA+IGF2YWlsYWJsZVdpZHRoKSB7CiAgICAgICAgICBsZXQgY2hhckNvdW50ID0gaGVscFRleHRXaWR0aDsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoY2hhckNvdW50ICsgdGFnc1tpXSA+IGF2YWlsYWJsZVdpZHRoKSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2hhckNvdW50ICs9IHRhZ3NbaV07CiAgICAgICAgICAgIGxpbWl0ID0gaSArIDE7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMudGFnc0xpbWl0ID0gbGltaXQ7CiAgICB9LAogICAgdXBkYXRlVGFnc1dpdGhRdWVyeSgpIHsKICAgICAgY29uc3QgewogICAgICAgIHF1ZXJ5CiAgICAgIH0gPSB0aGlzLiRyb3V0ZTsKICAgICAgY29uc3QgcXVlcnlUYWdzID0gcXVlcnkudGFncyA/IHF1ZXJ5LnRhZ3Muc3BsaXQoJywnKSA6IFtdOwogICAgICBjb25zdCBxdWVyeVNlYXJjaCA9IHF1ZXJ5LnNlYXJjaCA/IHF1ZXJ5LnNlYXJjaC5zcGxpdCgnLCcpIDogW107CiAgICAgIGNvbnN0IHRhZ3NMaXN0U2x1Z3MgPSB0aGlzLnRhZ3NMaXN0Lm1hcCh0YWcgPT4gdGFnLnNsdWcpOwogICAgICBjb25zdCB0YWdBcnJheSA9IHRoaXMuc2VsZWN0ZWRUYWdzLm1hcCh0YWcgPT4gdGFnLnZhbHVlKTsKICAgICAgY29uc3QgdGFnc1RvQWRkID0gWy4uLnF1ZXJ5VGFncywgLi4ucXVlcnlTZWFyY2hdLmZpbHRlcih0YWcgPT4gIXRhZ0FycmF5LmluY2x1ZGVzKHRhZykpOwogICAgICBjb25zdCB0YWdzVG9SZW1vdmUgPSB0YWdBcnJheS5maWx0ZXIodGFnID0+IHRhZ3NMaXN0U2x1Z3MuaW5jbHVkZXModGFnKSAmJiAhcXVlcnlUYWdzLmluY2x1ZGVzKHRhZykpOwogICAgICBjb25zdCB0ZXh0c1RvUmVtb3ZlID0gdGFnQXJyYXkuZmlsdGVyKHRhZyA9PiAhdGFnc0xpc3RTbHVncy5pbmNsdWRlcyh0YWcpICYmICFxdWVyeVNlYXJjaC5pbmNsdWRlcyh0YWcpKTsKICAgICAgY29uc3QgbmV3VGFncyA9IHRoaXMuc2VsZWN0ZWRUYWdzLmZpbHRlcih0YWcgPT4gIXRhZ3NUb1JlbW92ZS5pbmNsdWRlcyh0YWcudmFsdWUpICYmICF0ZXh0c1RvUmVtb3ZlLmluY2x1ZGVzKHRhZy52YWx1ZSkpOwogICAgICB0YWdzVG9BZGQuZm9yRWFjaCh0YWcgPT4gewogICAgICAgIGNvbnN0IGZpbHRlcmVkVGFnID0gdGhpcy50YWdzTGlzdC5maW5kKGxpc3RUYWcgPT4gbGlzdFRhZy5zbHVnID09PSB0YWcpOwogICAgICAgIG5ld1RhZ3MucHVzaCh7CiAgICAgICAgICBuYW1lOiBmaWx0ZXJlZFRhZyA/IGZpbHRlcmVkVGFnLm5hbWUgOiB0YWcsCiAgICAgICAgICB2YWx1ZTogZmlsdGVyZWRUYWcgPyBmaWx0ZXJlZFRhZy5zbHVnIDogdGFnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLnNlbGVjdGVkVGFncyA9IG5ld1RhZ3M7CiAgICB9LAogICAgc2V0QWN0aXZlQ2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgY29uc3QgY2F0ZWdvcnlUcmFja2luZyA9IHsKICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnkubmFtZSwKICAgICAgICBtZXRob2Q6ICdmaWx0ZXItc2VsZWN0JwogICAgICB9OwogICAgICBjb3VudGx5LnRyYWNrRXZlbnQoY291bnRseS5ldmVudHMuRklMVEVSLCBjYXRlZ29yeVRyYWNraW5nKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhcHBTdGF0ZS9zZXRBY3RpdmVDYXRlZ29yeScsIHRoaXMuY2F0ZWdvcmllc0xpc3QubWFwKGNhdGVnb3J5ID0+IGNhdGVnb3J5LnNsdWcpLmluY2x1ZGVzKGNhdGVnb3J5LnNsdWcpID8gY2F0ZWdvcnkgOiAnJyk7CiAgICB9LAogICAgcmVtb3ZlVGFnKHRhZ1RvUmVtb3ZlKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZVRhZ3MubGVuZ3RoID4gMCB8fCB0aGlzLnNlYXJjaGVkVGV4dC5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZFRhZ3MgPSB0aGlzLnNlbGVjdGVkVGFncy5maWx0ZXIodGFnID0+IHRhZy52YWx1ZSAhPT0gdGFnVG9SZW1vdmUudmFsdWUpOwogICAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTZWFyY2goKSB7CiAgICAgIGNvbnN0IHRhZ0FycmF5ID0gdGhpcy5zZWxlY3RlZFRhZ3MubWFwKHRhZyA9PiB0YWcudmFsdWUpOwogICAgICBjb25zdCB0YWdzTGlzdFNsdWdzID0gdGhpcy50YWdzTGlzdC5tYXAodGFnID0+IHRhZy5zbHVnKTsKICAgICAgY29uc3QgdGFncyA9IHRhZ0FycmF5LmZpbHRlcih0YWcgPT4gdGFnc0xpc3RTbHVncy5pbmNsdWRlcyh0YWcpKTsKICAgICAgY29uc3QgdGV4dHMgPSB0YWdBcnJheS5maWx0ZXIodGFnID0+ICF0YWdzTGlzdFNsdWdzLmluY2x1ZGVzKHRhZykpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FwcFN0YXRlL3NldEFjdGl2ZVRhZ3MnLCB0YWdzKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhcHBTdGF0ZS9zZXRTZWFyY2hlZFRleHQnLCB0ZXh0cyk7CiAgICB9LAogICAgaGFuZGxlQWRkVGFnKHRleHQpIHsKICAgICAgY29uc3Qgb3B0aW9uID0gewogICAgICAgIG5hbWU6IHRleHQsCiAgICAgICAgdmFsdWU6IHRleHQKICAgICAgfTsKICAgICAgY29uc3QgdGV4dFRyYWNraW5nID0gewogICAgICAgIHRleHQ6IHRleHQsCiAgICAgICAgbWV0aG9kOiAnZmlsdGVyLXNlbGVjdCcKICAgICAgfTsKICAgICAgY291bnRseS50cmFja0V2ZW50KGNvdW50bHkuZXZlbnRzLkZJTFRFUiwgdGV4dFRyYWNraW5nKTsKICAgICAgdGhpcy5zZWxlY3RlZFRhZ3MucHVzaChvcHRpb24pOwogICAgICB0aGlzLmNhbGN1bGF0ZVRhZ3NMaW1pdChbLi4udGhpcy5zZWxlY3RlZFRhZ3MsIG9wdGlvbl0pOwogICAgICB0aGlzLiRyZWZzLnNlbGVjdDIuZm9jdXMoKTsKICAgIH0sCiAgICBmb2N1c09uU3VibWl0KG9wdGlvbikgewogICAgICBjb25zdCB0YWdUcmFja2luZyA9IHsKICAgICAgICB0YWc6IG9wdGlvbi5uYW1lLAogICAgICAgIG1ldGhvZDogJ2ZpbHRlci1zZWxlY3QnCiAgICAgIH07CiAgICAgIGNvdW50bHkudHJhY2tFdmVudChjb3VudGx5LmV2ZW50cy5GSUxURVIsIHRhZ1RyYWNraW5nKTsKICAgICAgdGhpcy5jYWxjdWxhdGVUYWdzTGltaXQoKTsKICAgICAgdGhpcy4kcmVmcy5zZWxlY3QyLmZvY3VzKCk7CiAgICB9LAogICAgaGFuZGxlS2V5VXAoc3dpdGNoZXIpIHsKICAgICAgY29uc3QgZnV0dXJlRm9jdXMgPSB0aGlzLnNlbGVjdGVkSW5wdXQgKyBzd2l0Y2hlcjsKICAgICAgbGV0IGZ1dHVyZUluZGV4ID0gMjsKICAgICAgaWYgKHN3aXRjaGVyID09PSAtMSkgewogICAgICAgIGZ1dHVyZUluZGV4ID0gZnV0dXJlRm9jdXMgPj0gMCA/IGZ1dHVyZUZvY3VzIDogMjsKICAgICAgfSBlbHNlIHsKICAgICAgICBmdXR1cmVJbmRleCA9IGZ1dHVyZUZvY3VzIDw9IDIgPyBmdXR1cmVGb2N1cyA6IDA7CiAgICAgIH0KICAgICAgaWYgKGZ1dHVyZUluZGV4ID09PSAyKSB7CiAgICAgICAgdGhpcy4kcmVmcy5zZWxlY3QyLmZvY3VzKCk7CiAgICAgICAgdGhpcy5zZWxlY3RlZElucHV0ID0gMjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzWydzZWxlY3QnICsgZnV0dXJlSW5kZXhdLiRlbC5mb2N1cygpOwogICAgICB9CiAgICB9LAogICAgc2V0U2VsZWN0ZWQoaW5kZXgpIHsKICAgICAgdGhpcy5zZWxlY3RlZElucHV0ID0gaW5kZXg7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;AA8DA;AACA;AAEA;AAEA;EACAA;EACAC;IAAAC;EAAA;EACAC;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA,yBACA,kBACA,YACA,kBACA,cACA,eACA;IACAC;MACA;QACAb;QACAc;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAD;MACA;IACA;EACA;EACAE;IACA;IACA;MACAC;IACA;EACA;EACAC;IACA;MACAD;IACA;EACA;EACAE;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;QACA;QACA;QACA;QACA,uBACAC,uCACAC,qCACAA;QAEA;QACA,0BACAC,oDACA;QACA;QAEA;UACA;UAEA;YACA;cACA;YACA;YAEAC;YAEAC;UACA;QACA;MACA;MAEA;IACA;IACAC;MACA;QAAAC;MAAA;MAEA;MACA;MACA;MAEA;MACA,wDACAC,+BACA;MACA,qCACAA,+DACA;MACA,sCACAA,kEACA;MAEA,yCACAA,OACA,qCACA,mCACA;MAEAC;QACA,uCACAC,gCACA;QAEAC;UACAjC;UACAc;QACA;MACA;MAEA;IACA;IACAoB;MACA;QACAC;QACAC;MACA;MAEAC;MAEA,mBACA,8BACA,oBACAC,+BACAC,0BACAJ,WACA,GACA;IACA;IACAK;MACA;QACA,6CACAV,uCACA;QACA;MACA;IACA;IACAW;MACA;MACA;MACA;MACA;MAEA;MACA;IACA;IACAC;MACA;QACA1C;QACAc;MACA;MAEA;QACA6B;QACAP;MACA;MAEAC;MAEA;MACA;MACA;IACA;IACAO;MACA;QACAd;QACAM;MACA;MAEAC;MAEA;MACA;IACA;IACAQ;MACA;MACA;MAEA;QACAC;MACA;QACAA;MACA;MAEA;QACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","components","Multiselect","props","tags","type","default","data","selectedTags","searchedWords","selectedInput","tagsLimit","computed","resolvedTags","value","queryProptertyWatchlist","watch","created","window","destroyed","methods","tagsEvent","calculateTagsLimit","tagsEl","parseFloat","tagName","charCount","limit","updateTagsWithQuery","query","tag","tagsToAdd","listTag","newTags","setActiveCategory","category","method","countly","map","includes","removeTag","handleSearch","handleAddTag","text","focusOnSubmit","handleKeyUp","futureIndex","setSelected"],"sourceRoot":"src/.vuepress/theme/components/blog","sources":["SearchCategoriesAndTags.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"mb-2\">Filter items by type:</div>\n    <div\n      class=\"flex flex-col xl:flex-row\"\n      @keyup.left=\"handleKeyUp(-1)\"\n      @keyup.right=\"handleKeyUp(1)\"\n    >\n      <multiselect\n        ref=\"select0\"\n        :value=\"\n          activeCategory !== '' ? activeCategory : { name: 'All content' }\n        \"\n        class=\"mb-2 xl:mb-0 xl:mr-2 xl:max-w-xs\"\n        :options=\"[{ name: 'All content' }, ...categoriesList]\"\n        label=\"name\"\n        track-by=\"name\"\n        :searchable=\"false\"\n        :allow-empty=\"false\"\n        select-label=\"Press 'enter' to select\"\n        deselect-label=\"\"\n        @input=\"setActiveCategory\"\n        @open=\"setSelected(0)\"\n      />\n      <multiselect\n        ref=\"select1\"\n        v-model=\"selectedTags\"\n        class=\"mb-2 xl:mb-0 xl:mr-2\"\n        tag-placeholder=\"search for this text\"\n        placeholder=\"Search for words or #tags\"\n        track-by=\"name\"\n        :custom-label=\"\n          (option) =>\n            tagsList.map((tag) => tag.name).includes(option.name)\n              ? `#${option.name}`\n              : option.name\n        \"\n        :limit=\"['xxl'].includes($mq) ? tagsLimit : tagsList.length\"\n        :options=\"resolvedTags\"\n        :multiple=\"true\"\n        :taggable=\"true\"\n        select-label=\"Press 'enter' to select\"\n        deselect-label=\"Press 'enter' to remove\"\n        @tag=\"handleAddTag\"\n        @remove=\"removeTag\"\n        @select=\"focusOnSubmit\"\n        @open=\"setSelected(1)\"\n      ></multiselect>\n\n      <button\n        ref=\"select2\"\n        class=\"h-full p-2 text-white font-semibold bg-blueGreen rounded hover:bg-blueGreenScreen transition duration-300 ease-in-out\"\n        @click=\"handleSearch\"\n        @focus=\"setSelected(2)\"\n      >\n        Search\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Multiselect from 'vue-multiselect'\nimport { mapState } from 'vuex'\n\nimport countly from '../../util/countly'\n\nexport default {\n  name: 'SearchCategoriesAndTags',\n  components: { Multiselect },\n  props: {\n    tags: {\n      type: Array,\n      default: () => ['list', 'of', 'tags', '#'],\n    },\n  },\n  data() {\n    return {\n      selectedTags: [],\n      searchedWords: [],\n      selectedInput: 0,\n      tagsLimit: 99,\n    }\n  },\n  computed: {\n    ...mapState('appState', [\n      'categoriesList',\n      'tagsList',\n      'activeCategory',\n      'activeTags',\n      'searchedText',\n    ]),\n    resolvedTags() {\n      return this.tags.map((tag) => ({\n        name: tag.name,\n        value: tag.slug,\n      }))\n    },\n    queryProptertyWatchlist() {\n      return `${this.activeTags}|${this.searchedText}`\n    },\n  },\n  watch: {\n    queryProptertyWatchlist() {\n      this.updateTagsWithQuery()\n    },\n  },\n  created() {\n    this.calculateTagsLimit()\n    if (typeof window !== 'undefined') {\n      window.addEventListener('resize', this.tagsEvent)\n    }\n  },\n  destroyed() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('resize', this.tagsEvent)\n    }\n  },\n  methods: {\n    tagsEvent() {\n      if (['xxl'].includes(this.$mq)) {\n        this.calculateTagsLimit()\n      }\n    },\n    calculateTagsLimit(newTags) {\n      // The max value a char chan occupy in px\n      const multiplier = 12\n      // Width of the help text - \"X or more\"\n      const helpTextWidth = 75\n      // Padding and margin for the each tag\n      const tagPadding = 46\n      let limit = this.tagsList.length\n\n      if (typeof window !== 'undefined' && this.$refs.select1) {\n        const tagsEl = this.$refs.select1.$el.childNodes[2]\n        const tagsStyles = window.getComputedStyle(tagsEl)\n        // Width of the tags container\n        const availableWidth =\n          tagsEl.getBoundingClientRect().width -\n          parseFloat(tagsStyles.paddingLeft) -\n          parseFloat(tagsStyles.paddingRight)\n\n        const tagNames = (newTags || this.selectedTags).map((tag) => tag.name)\n        const tags = tagNames.map(\n          (tagName) => tagPadding + tagName.length * multiplier\n        )\n        const estimatedTagsWidth = tags.reduce((a, b) => a + b, 0)\n\n        if (estimatedTagsWidth > availableWidth) {\n          let charCount = helpTextWidth\n\n          for (let i = 0; i < tags.length; i++) {\n            if (charCount + tags[i] > availableWidth) {\n              break\n            }\n\n            charCount += tags[i]\n\n            limit = i + 1\n          }\n        }\n      }\n\n      this.tagsLimit = limit\n    },\n    updateTagsWithQuery() {\n      const { query } = this.$route\n\n      const queryTags = query.tags ? query.tags.split(',') : []\n      const querySearch = query.search ? query.search.split(',') : []\n      const tagsListSlugs = this.tagsList.map((tag) => tag.slug)\n\n      const tagArray = this.selectedTags.map((tag) => tag.value)\n      const tagsToAdd = [...queryTags, ...querySearch].filter(\n        (tag) => !tagArray.includes(tag)\n      )\n      const tagsToRemove = tagArray.filter(\n        (tag) => tagsListSlugs.includes(tag) && !queryTags.includes(tag)\n      )\n      const textsToRemove = tagArray.filter(\n        (tag) => !tagsListSlugs.includes(tag) && !querySearch.includes(tag)\n      )\n\n      const newTags = this.selectedTags.filter(\n        (tag) =>\n          !tagsToRemove.includes(tag.value) &&\n          !textsToRemove.includes(tag.value)\n      )\n\n      tagsToAdd.forEach((tag) => {\n        const filteredTag = this.tagsList.find(\n          (listTag) => listTag.slug === tag\n        )\n\n        newTags.push({\n          name: filteredTag ? filteredTag.name : tag,\n          value: filteredTag ? filteredTag.slug : tag,\n        })\n      })\n\n      this.selectedTags = newTags\n    },\n    setActiveCategory(category) {\n      const categoryTracking = {\n        category: category.name,\n        method: 'filter-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, categoryTracking)\n\n      this.$store.commit(\n        'appState/setActiveCategory',\n        this.categoriesList\n          .map((category) => category.slug)\n          .includes(category.slug)\n          ? category\n          : ''\n      )\n    },\n    removeTag(tagToRemove) {\n      if (this.activeTags.length > 0 || this.searchedText.length > 0) {\n        this.selectedTags = this.selectedTags.filter(\n          (tag) => tag.value !== tagToRemove.value\n        )\n        this.handleSearch()\n      }\n    },\n    handleSearch() {\n      const tagArray = this.selectedTags.map((tag) => tag.value)\n      const tagsListSlugs = this.tagsList.map((tag) => tag.slug)\n      const tags = tagArray.filter((tag) => tagsListSlugs.includes(tag))\n      const texts = tagArray.filter((tag) => !tagsListSlugs.includes(tag))\n\n      this.$store.commit('appState/setActiveTags', tags)\n      this.$store.commit('appState/setSearchedText', texts)\n    },\n    handleAddTag(text) {\n      const option = {\n        name: text,\n        value: text,\n      }\n\n      const textTracking = {\n        text: text,\n        method: 'filter-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, textTracking)\n\n      this.selectedTags.push(option)\n      this.calculateTagsLimit([...this.selectedTags, option])\n      this.$refs.select2.focus()\n    },\n    focusOnSubmit(option) {\n      const tagTracking = {\n        tag: option.name,\n        method: 'filter-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, tagTracking)\n\n      this.calculateTagsLimit()\n      this.$refs.select2.focus()\n    },\n    handleKeyUp(switcher) {\n      const futureFocus = this.selectedInput + switcher\n      let futureIndex = 2\n\n      if (switcher === -1) {\n        futureIndex = futureFocus >= 0 ? futureFocus : 2\n      } else {\n        futureIndex = futureFocus <= 2 ? futureFocus : 0\n      }\n\n      if (futureIndex === 2) {\n        this.$refs.select2.focus()\n        this.selectedInput = 2\n      } else {\n        this.$refs['select' + futureIndex].$el.focus()\n      }\n    },\n    setSelected(index) {\n      this.selectedInput = index\n    },\n  },\n}\n</script>\n\n<style>\n.multiselect__tag,\n.multiselect__tag-icon:hover,\n.multiselect__option--highlight,\n.multiselect__option--highlight::after {\n  @apply bg-blueGreen;\n}\n\n.multiselect__tag-icon::after {\n  color: white;\n  opacity: 0.5;\n}\n\n.multiselect__tag-icon:hover::after {\n  opacity: 1;\n}\n\n.multiselect__option--highlight.multiselect__option--selected,\n.multiselect__option--highlight.multiselect__option--selected::after {\n  @apply bg-aquaMuted;\n}\n\n.multiselect__placeholder,\n.multiselect__input {\n  height: 1.5rem;\n  margin-bottom: 0;\n  padding-top: 0;\n  padding-left: 0.3125rem;\n  font-size: 1rem;\n}\n\n.multiselect__tags {\n  display: flex;\n  flex-wrap: wrap;\n  border: none;\n}\n\n.multiselect__tags-wrap {\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.multiselect__tag {\n  margin-bottom: 0.5rem;\n}\n\n.multiselect--active .multiselect__tags {\n  padding-bottom: 0.5rem;\n}\n\n.multiselect__single,\n.multiselect__strong {\n  margin-bottom: 0;\n}\n</style>\n"]}]}