{"remainingRequest":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/Comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/Comments.vue","mtime":1669099258318},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js","mtime":1669100514953},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js","mtime":1669100514895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Y29uc3Qgc2FmZVBlcm1hbGluayA9IChwZXJtYWxpbmssIGRhdGUpID0+IHsKICBsZXQgZG9tYWluID0gJ2h0dHBzOi8vbGlicDJwLmlvL2Jsb2cvJzsKICB0cnkgewogICAgLy8gVXNlIG9sZCBkb21haW4gZm9yIGxlZ2FjeSBjb21tZW50IHRoZWFkcwogICAgLy8gY3JlYXRlZCBiZWZvcmUgd2Ugc3dpdGNoZWQgdG8gdGhlIG5ldyBkb21haW4KICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pcGZzL2lwZnMtYmxvZy9pc3N1ZXMvNDE3CiAgICBpZiAobmV3IERhdGUoZGF0ZSkgPCBuZXcgRGF0ZSgnMjAyMi0wOC0xNScpKSB7CiAgICAgIGRvbWFpbiA9ICdodHRwczovL2Jsb2cuaXBmcy5pby8nOwogICAgfQogIH0gY2F0Y2ggKGUpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ3VuYWJsZSB0byBwYXJzZSB0aGlzLiRmcm9udG1hdHRlci5kYXRlJywgZSk7CiAgfQogIC8vIGh0dHBzOi8vbWV0YS5kaXNjb3Vyc2Uub3JnL3QvcmVmZXJlci13aXRoLWRvbWFpbi1uYW1lLWluLXRoZS1zbHVnLWJyZWFrcy1jb21tZW50cy1lbWJlZC8yMDQ4MDcvND91PWxpZGVsCiAgY29uc3QgdXJsID0gbmV3IFVSTChkb21haW4pOwogIHVybC5wYXRobmFtZSA9IHBlcm1hbGluazsKICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29tbWVudHMnLAogIGNvbXBvbmVudHM6IHt9LAogIGNvbXB1dGVkOiB7CiAgICBlbWJlZFNyYygpIHsKICAgICAgcmV0dXJuIGBodHRwczovL2Rpc2N1c3MubGlicDJwLmlvL2VtYmVkL2NvbW1lbnRzP2VtYmVkX3VybD0ke3NhZmVQZXJtYWxpbmsodGhpcy4kZnJvbnRtYXR0ZXIucGVybWFsaW5rLCB0aGlzLiRmcm9udG1hdHRlci5kYXRlKX1gOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHdpbmRvdy5EaXNjb3Vyc2VFbWJlZCA9IHsKICAgICAgZGlzY291cnNlVXJsOiAnaHR0cHM6Ly9kaXNjdXNzLmxpYnAycC5pby8nLAogICAgICBkaXNjb3Vyc2VFbWJlZFVybDogc2FmZVBlcm1hbGluayh0aGlzLiRmcm9udG1hdHRlci5wZXJtYWxpbmssIHRoaXMuJGZyb250bWF0dGVyLmRhdGUpCiAgICB9OwogICAgY29uc3QgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgZC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7CiAgICBkLmFzeW5jID0gdHJ1ZTsKICAgIGQuc3JjID0gd2luZG93LkRpc2NvdXJzZUVtYmVkLmRpc2NvdXJzZVVybCArICdqYXZhc2NyaXB0cy9lbWJlZC5qcyc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKGQpOwogIH0KfTs="},{"version":3,"mappings":"AAQA;EACA;EACA;IACA;IACA;IACA;IACA;MACAA;IACA;EACA;IACAC;EACA;EACA;EACA;EACAC;EACA;AACA;AACA;EACAC;EACAC;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACA;IACAC;IACAA;IACAA;IACAC;EACA;AACA","names":["domain","console","url","name","components","computed","embedSrc","mounted","window","discourseUrl","discourseEmbedUrl","d","document"],"sourceRoot":"src/.vuepress/theme/components/blog","sources":["Comments.vue"],"sourcesContent":["<template>\n  <div>\n    <h2 class=\"type-h2\">Comments</h2>\n    <div id=\"discourse-comments\" class=\"mt-4 mb-24\"></div>\n  </div>\n</template>\n\n<script>\nconst safePermalink = (permalink, date) => {\n  let domain = 'https://libp2p.io/blog/'\n  try {\n    // Use old domain for legacy comment theads\n    // created before we switched to the new domain\n    // https://github.com/ipfs/ipfs-blog/issues/417\n    if (new Date(date) < new Date('2022-08-15')) {\n        domain = 'https://blog.ipfs.io/'\n    }\n  } catch (e) {\n    console.error('unable to parse this.$frontmatter.date', e)\n  }\n  // https://meta.discourse.org/t/referer-with-domain-name-in-the-slug-breaks-comments-embed/204807/4?u=lidel\n  const url = new URL(domain)\n  url.pathname = permalink\n  return url.toString()\n}\nexport default {\n  name: 'Comments',\n  components: {},\n  computed: {\n    embedSrc() {\n      return `https://discuss.libp2p.io/embed/comments?embed_url=${safePermalink(this.$frontmatter.permalink, this.$frontmatter.date)}`\n    },\n  },\n  mounted() {\n    window.DiscourseEmbed = {\n      discourseUrl: 'https://discuss.libp2p.io/',\n      discourseEmbedUrl: safePermalink(this.$frontmatter.permalink, this.$frontmatter.date),\n    }\n    const d = document.createElement('script')\n    d.type = 'text/javascript'\n    d.async = true\n    d.src = window.DiscourseEmbed.discourseUrl + 'javascripts/embed.js'\n    document.getElementsByTagName('body')[0].appendChild(d)\n  },\n}\n</script>\n"]}]}