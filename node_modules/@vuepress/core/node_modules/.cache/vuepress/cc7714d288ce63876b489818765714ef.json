{"remainingRequest":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/prithvi/lab/blog/src/.vuepress/theme/layouts/ImageCrop.vue?vue&type=style&index=0&id=e767df9c&scoped=true&lang=css&","dependencies":[{"path":"/Users/prithvi/lab/blog/src/.vuepress/theme/layouts/ImageCrop.vue","mtime":1669098253302},{"path":"/Users/prithvi/lab/blog/node_modules/css-loader/dist/cjs.js","mtime":1669100514930},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1669100514897},{"path":"/Users/prithvi/lab/blog/node_modules/postcss-loader/src/index.js","mtime":1669100514914},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js","mtime":1669100514895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5pbWFnZS11cGxvYWQgewogIG1heC1oZWlnaHQ6IDMwcmVtOwogIGJvcmRlci1jb2xvcjogIzNlOTA5NjsKfQoKLmNyb3BwZXIgewogIG1heC1oZWlnaHQ6IDcwdmg7Cn0K"},{"version":3,"sources":["ImageCrop.vue"],"names":[],"mappings":";AAuLA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ImageCrop.vue","sourceRoot":"src/.vuepress/theme/layouts","sourcesContent":["<template>\n  <div class=\"flex justify-center items-center h-screen w-full p-4\">\n    <div v-if=\"croppedImage\" class=\"flex flex-col grid-margins\">\n      <div>\n        <img :src=\"croppedImage\" />\n      </div>\n      <div class=\"flex items-center justify-center mt-4\">\n        <button\n          class=\"bg-blueGreen transition duration-300 hover:bg-blueGreenScreen text-white px-4 py-2 mr-4\"\n          @click=\"download\"\n        >\n          Download\n        </button>\n        <button\n          class=\"bg-blueGreen transition duration-300 hover:bg-blueGreenScreen text-white px-4 py-2\"\n          @click=\"reset\"\n        >\n          Load a new image\n        </button>\n      </div>\n    </div>\n    <div\n      v-if=\"image && !croppedImage\"\n      class=\"flex flex-col justify-center relative w-full h-screen grid-margins\"\n    >\n      <div class=\"flex justify-center mb-3\">\n        <button\n          class=\"bg-blueGreen hover:bg-blueGreenScreen transition duration-300 ease-in-out text-white p-2 mr-4\"\n          @click=\"zoom(1.5)\"\n        >\n          <SVGIcon\n            class=\"color-white fill-current w-6 h-6\"\n            name=\"zoom-in\"\n            title=\"Zoom in\"\n          />\n        </button>\n        <button\n          class=\"bg-blueGreen hover:bg-blueGreenScreen transition duration-300 ease-in-out text-white p-2 mr-4\"\n          @click=\"zoom(0.5)\"\n        >\n          <SVGIcon\n            class=\"color-white fill-current w-6 h-6\"\n            name=\"zoom-out\"\n            title=\"Zoom out\"\n          />\n        </button>\n        <button\n          class=\"bg-blueGreen hover:bg-blueGreenScreen transition duration-300 ease-in-out text-white p-2 mr-4\"\n          @click=\"crop\"\n        >\n          <SVGIcon\n            class=\"color-white fill-current w-6 h-6\"\n            name=\"save-icon\"\n            title=\"Save\"\n          />\n        </button>\n        <button\n          class=\"bg-blueGreen hover:bg-blueGreenScreen transition duration-300 ease-in-out text-white p-2\"\n          @click=\"reset\"\n        >\n          <SVGIcon\n            class=\"color-white fill-current w-6 h-6\"\n            name=\"trash-icon\"\n            title=\"Delete\"\n          />\n        </button>\n      </div>\n      <cropper\n        ref=\"cropper\"\n        class=\"cropper\"\n        :debounce=\"false\"\n        :src=\"image\"\n        :stencil-props=\"{\n          aspectRatio: 1.91,\n        }\"\n      />\n      <div class=\"mt-3 mx-auto max-w-lg text-center\">\n        <strong>Pro tip:</strong> Avoid words in images, as they detract from\n        post or card titles and can be hard to read at small sizes.\n      </div>\n    </div>\n    <div\n      v-if=\"!image && !croppedImage\"\n      class=\"image-upload flex flex-col items-center cursor-pointer justify-center bg-white text-blueGreen text-center h-screen w-full max-w-2xl opacity-75 hover:opacity-100 transition-all duration-300 ease-in-out border-2 border-dashed rounded text-lg\"\n      @dragover=\"dragover\"\n      @dragleave=\"dragleave\"\n      @drop=\"drop\"\n      @click=\"$refs.file.click()\"\n    >\n      <input\n        ref=\"file\"\n        class=\"hidden\"\n        type=\"file\"\n        accept=\"image/*\"\n        @change=\"loadImage($event)\"\n      />\n      Drag and drop an image<br />\n      (or click to browse)\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Cropper } from 'vue-advanced-cropper'\nimport SVGIcon from '@theme/components/base/SVGIcon.vue'\nimport 'vue-advanced-cropper/dist/style.css'\n\nexport default {\n  name: 'ImageCrop',\n  components: {\n    Cropper,\n    SVGIcon,\n  },\n  data() {\n    return {\n      image: null,\n      imageName: '',\n      croppedImage: null,\n    }\n  },\n  methods: {\n    zoom(factor) {\n      this.$refs.cropper.zoom(factor)\n    },\n    reset() {\n      this.image = null\n      this.croppedImage = null\n    },\n    dragover(event) {\n      event.preventDefault()\n      if (!event.currentTarget.classList.contains('border-solid')) {\n        event.currentTarget.classList.remove('border-dashed')\n        event.currentTarget.classList.add('border-solid')\n      }\n    },\n    dragleave(event) {\n      event.currentTarget.classList.add('border-dashed')\n      event.currentTarget.classList.remove('border-solid')\n    },\n    drop(event) {\n      event.preventDefault()\n      this.loadImage({ target: { files: event.dataTransfer.files } })\n      event.currentTarget.classList.add('border-dashed')\n      event.currentTarget.classList.remove('border-solid')\n    },\n    loadImage(event) {\n      const input = event.target\n      if (input.files && input.files[0]) {\n        const reader = new FileReader()\n        reader.onload = (e) => {\n          this.image = e.target.result\n          this.imageName = input.files[0].name\n        }\n        reader.readAsDataURL(input.files[0])\n      }\n    },\n    crop() {\n      const { coordinates, canvas } = this.$refs.cropper.getResult()\n      this.coordinates = coordinates\n      this.croppedImage = canvas.toDataURL()\n    },\n    download() {\n      let fileName = this.imageName.split('.')\n      const extension = fileName.pop()\n      fileName = fileName.join('.')\n\n      const currentDate = new Date()\n      const year = currentDate.getFullYear()\n      const month = ('0' + (currentDate.getMonth() + 1)).slice(-2)\n      const day = ('0' + currentDate.getDate()).slice(-2)\n\n      const newFile = `${year}-${month}-${day}-cardheader-${fileName}.${extension}`\n\n      const a = document.createElement('a')\n      a.href = this.croppedImage\n      a.download = newFile\n      a.click()\n    },\n  },\n}\n</script>\n\n<style scoped>\n.image-upload {\n  max-height: 30rem;\n  border-color: #3e9096;\n}\n\n.cropper {\n  max-height: 70vh;\n}\n</style>\n"]}]}