{"remainingRequest":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/VideoModalContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/VideoModalContent.vue","mtime":1669098253301},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js","mtime":1669100514953},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js","mtime":1669100514895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKaW1wb3J0IHV0YyBmcm9tICdkYXlqcy9wbHVnaW4vdXRjJzsKaW1wb3J0IFVuc3R5bGVkTGluayBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9VbnN0eWxlZExpbmsnOwppbXBvcnQgUG9zdFNvY2lhbHMgZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvYmxvZy9Qb3N0U29jaWFscy52dWUnOwppbXBvcnQgUG9zdFRhZyBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9ibG9nL1Bvc3RUYWcnOwppbXBvcnQgY291bnRseSBmcm9tICcuLi8uLi91dGlsL2NvdW50bHknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1ZpZGVvTW9kYWxDb250ZW50JywKICBjb21wb25lbnRzOiB7CiAgICBVbnN0eWxlZExpbmssCiAgICBQb3N0U29jaWFscywKICAgIFBvc3RUYWcKICB9LAogIHByb3BzOiB7CiAgICBjbG9zZU1vZGFsOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhcHBTdGF0ZScsIFsndmlkZW9Nb2RhbENhcmQnXSksCiAgICByZXNvbHZlZFBhdGgoKSB7CiAgICAgIGlmICghdGhpcy52aWRlb01vZGFsQ2FyZC5wYXRoLmluY2x1ZGVzKCd5b3V0dWJlJykgfHwgdGhpcy52aWRlb01vZGFsQ2FyZC5wYXRoLmluY2x1ZGVzKCdlbWJlZCcpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9Nb2RhbENhcmQucGF0aDsKICAgICAgfQogICAgICBjb25zdCBuZXdQYXRoID0gbmV3IFVSTCh0aGlzLnZpZGVvTW9kYWxDYXJkLnBhdGgpOwogICAgICBjb25zdCBvcmlnaW5hbFN0YXJ0VGltZSA9IG5ld1BhdGguc2VhcmNoUGFyYW1zLmdldCgndCcpOwogICAgICBjb25zdCBzdGFydCA9IG9yaWdpbmFsU3RhcnRUaW1lICYmIG5ld1BhdGguc2VhcmNoUGFyYW1zLmdldCgndCcpLnNsaWNlKDAsIG5ld1BhdGguc2VhcmNoUGFyYW1zLmdldCgndCcpLmxlbmd0aCAtIDEpOwogICAgICBjb25zdCBpZCA9IG5ld1BhdGguc2VhcmNoUGFyYW1zLmdldCgndicpIHx8IG5ld1BhdGguc2VhcmNoUGFyYW1zLmdldCgnbGlzdCcpOwogICAgICBjb25zdCBpc0FMaXN0ID0gbmV3UGF0aC5wYXRobmFtZS5pbmNsdWRlcygnbGlzdCcpOwogICAgICByZXR1cm4gaXNBTGlzdCA/IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC92aWRlb3Nlcmllcz9saXN0PSR7aWR9YCA6IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8ke2lkfT8ke3N0YXJ0ID8gYHN0YXJ0PSR7c3RhcnR9YCA6ICcnfWA7CiAgICB9LAogICAgcmVzb2x2ZWREYXRlKCkgewogICAgICBkYXlqcy5leHRlbmQodXRjKTsKICAgICAgcmV0dXJuIGRheWpzLnV0Yyh0aGlzLmRhdGUpLmZvcm1hdCh0aGlzLiR0aGVtZUxvY2FsZUNvbmZpZy5kYXRlRm9ybWF0IHx8ICdZWVlZLU1NLUREJyk7CiAgICB9LAogICAgcmVzb2x2ZWRUYWdzKCkgewogICAgICBpZiAoIXRoaXMudmlkZW9Nb2RhbENhcmQuZnJvbnRtYXR0ZXIudGFncyB8fCBBcnJheS5pc0FycmF5KHRoaXMudmlkZW9Nb2RhbENhcmQuZnJvbnRtYXR0ZXIudGFncykpIHJldHVybiB0aGlzLnZpZGVvTW9kYWxDYXJkLmZyb250bWF0dGVyLnRhZ3M7CiAgICAgIHJldHVybiB0aGlzLnZpZGVvTW9kYWxDYXJkLmZyb250bWF0dGVyLnRhZ3MucmVwbGFjZSgvLCAvZywgJywnKS5zcGxpdCgnLCcpLmZpbHRlcih0YWcgPT4gdGFnKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNhdENsaWNrKCkgewogICAgICBjb25zdCBjYXRlZ29yeVRyYWNraW5nID0gewogICAgICAgIGNhdGVnb3J5OiB0aGlzLnZpZGVvTW9kYWxDYXJkLmZyb250bWF0dGVyLnR5cGUubmFtZSwKICAgICAgICBtZXRob2Q6ICd2aWRlby1tb2RhbC1zZWxlY3QnCiAgICAgIH07CiAgICAgIGNvdW50bHkudHJhY2tFdmVudChjb3VudGx5LmV2ZW50cy5GSUxURVIsIGNhdGVnb3J5VHJhY2tpbmcpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FwcFN0YXRlL3NldEFjdGl2ZUNhdGVnb3J5JywgdGhpcy52aWRlb01vZGFsQ2FyZC5mcm9udG1hdHRlci50eXBlKTsKICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AA6EA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;EACAA;EACAC;IAAAC;IAAAC;IAAAC;EAAA;EACAC;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA,IACA,iDACA,4CACA;QACA;MACA;MAEA;MACA;MACA,cACAC,qBACAC,qBACAC,SACAC;MACA,WACAF;MACA;MAEA,iBACA,yDACA;IACA;IACAG;MACAC;MACA,aACAC,eACAC;IACA;IACAC;MACA,IACA,yCACAC,qDAEA;MAEA,4CACAC,oBACAC,WACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;MACA;MAEAC;MAEA,mBACA,8BACA,qCACA;MACA;IACA;EACA;AACA","names":["name","components","UnstyledLink","PostSocials","PostTag","props","closeModal","type","default","computed","resolvedPath","originalStartTime","newPath","get","slice","resolvedDate","dayjs","utc","format","resolvedTags","Array","replace","split","filter","methods","handleCatClick","category","method","countly"],"sourceRoot":"src/.vuepress/theme/components/blog","sources":["VideoModalContent.vue"],"sourcesContent":["<template>\n  <div class=\"group rounded flex flex-col\" itemprop=\"mainEntityOfPage\">\n    <article\n      itemprop=\"blogPost\"\n      itemscope\n      itemtype=\"https://schema.org/BlogPosting\"\n    >\n      <h1 class=\"type-h5 text-xl text-primary mr-4\">\n        <UnstyledLink :to=\"videoModalCard.path\" class=\"clamp-3 hover:underline\">\n          {{ videoModalCard.title }}\n        </UnstyledLink>\n      </h1>\n      <div class=\"cover embed-responsive embed-responsive-og my-4\">\n        <iframe\n          class=\"h-full w-full\"\n          type=\"text/html\"\n          :src=\"resolvedPath\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowfullscreen\n          frameborder=\"0\"\n        ></iframe>\n      </div>\n      <div class=\"text-sm\">\n        <time\n          class=\"text-gray-dark\"\n          pubdate\n          itemprop=\"datePublished\"\n          :datetime=\"videoModalCard.frontmatter.date\"\n        >\n          {{ resolvedDate }}\n        </time>\n        <div class=\"mt-3 flex flex-wrap\" itemprop=\"keywords\">\n          <button\n            v-if=\"videoModalCard.frontmatter.type\"\n            class=\"p-1 bg-aquaMuted leading-none bg-opacity-50 rounded text-blueGreen font-semibold hover:bg-blueGreen hover:text-white text-sm mr-1\"\n            @click=\"handleCatClick()\"\n          >\n            {{ videoModalCard.frontmatter.type.name }}\n          </button>\n          <PostTag\n            v-for=\"tag in resolvedTags\"\n            :key=\"tag.slug\"\n            :tag=\"tag\"\n            :callback=\"closeModal\"\n            class-name=\"text-sm\"\n            parent=\"video-modal\"\n          />\n        </div>\n      </div>\n      <footer class=\"flex-grow\">\n        <p\n          v-if=\"\n            videoModalCard.frontmatter.description ||\n            videoModalCard.frontmatter.description\n          \"\n          class=\"type-p1 text-primary clamp-5\"\n          itemprop=\"description\"\n        >\n          {{\n            videoModalCard.frontmatter.description ||\n            videoModalCard.frontmatter.description\n          }}\n        </p>\n      </footer>\n      <div class=\"flex items-end mt-4\">\n        <span class=\"text-sm text-gray-dark\">Share this item:</span>\n        <PostSocials\n          class=\"flex ml-2\"\n          :url=\"videoModalCard.path\"\n          :title=\"videoModalCard.frontmatter.title\"\n        />\n      </div>\n    </article>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport UnstyledLink from '@theme/components/UnstyledLink'\nimport PostSocials from '@theme/components/blog/PostSocials.vue'\nimport PostTag from '@theme/components/blog/PostTag'\n\nimport countly from '../../util/countly'\n\nexport default {\n  name: 'VideoModalContent',\n  components: { UnstyledLink, PostSocials, PostTag },\n  props: {\n    closeModal: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  computed: {\n    ...mapState('appState', ['videoModalCard']),\n    resolvedPath() {\n      if (\n        !this.videoModalCard.path.includes('youtube') ||\n        this.videoModalCard.path.includes('embed')\n      ) {\n        return this.videoModalCard.path\n      }\n\n      const newPath = new URL(this.videoModalCard.path)\n      const originalStartTime = newPath.searchParams.get('t')\n      const start =\n        originalStartTime &&\n        newPath.searchParams\n          .get('t')\n          .slice(0, newPath.searchParams.get('t').length - 1)\n      const id =\n        newPath.searchParams.get('v') || newPath.searchParams.get('list')\n      const isAList = newPath.pathname.includes('list')\n\n      return isAList\n        ? `https://www.youtube.com/embed/videoseries?list=${id}`\n        : `https://www.youtube.com/embed/${id}?${start ? `start=${start}` : ''}`\n    },\n    resolvedDate() {\n      dayjs.extend(utc)\n      return dayjs\n        .utc(this.date)\n        .format(this.$themeLocaleConfig.dateFormat || 'YYYY-MM-DD')\n    },\n    resolvedTags() {\n      if (\n        !this.videoModalCard.frontmatter.tags ||\n        Array.isArray(this.videoModalCard.frontmatter.tags)\n      )\n        return this.videoModalCard.frontmatter.tags\n\n      return this.videoModalCard.frontmatter.tags\n        .replace(/, /g, ',')\n        .split(',')\n        .filter((tag) => tag)\n    },\n  },\n  methods: {\n    handleCatClick() {\n      const categoryTracking = {\n        category: this.videoModalCard.frontmatter.type.name,\n        method: 'video-modal-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, categoryTracking)\n\n      this.$store.commit(\n        'appState/setActiveCategory',\n        this.videoModalCard.frontmatter.type\n      )\n      this.closeModal()\n    },\n  },\n}\n</script>\n"]}]}