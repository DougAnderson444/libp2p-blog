{"remainingRequest":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/VideoModalContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/VideoModalContent.vue","mtime":1669098253301},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js","mtime":1669100514953},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js","mtime":1669100514895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKCmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcycKaW1wb3J0IHV0YyBmcm9tICdkYXlqcy9wbHVnaW4vdXRjJwppbXBvcnQgVW5zdHlsZWRMaW5rIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL1Vuc3R5bGVkTGluaycKaW1wb3J0IFBvc3RTb2NpYWxzIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL2Jsb2cvUG9zdFNvY2lhbHMudnVlJwppbXBvcnQgUG9zdFRhZyBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9ibG9nL1Bvc3RUYWcnCgppbXBvcnQgY291bnRseSBmcm9tICcuLi8uLi91dGlsL2NvdW50bHknCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1ZpZGVvTW9kYWxDb250ZW50JywKICBjb21wb25lbnRzOiB7IFVuc3R5bGVkTGluaywgUG9zdFNvY2lhbHMsIFBvc3RUYWcgfSwKICBwcm9wczogewogICAgY2xvc2VNb2RhbDogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogKCkgPT4ge30sCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhcHBTdGF0ZScsIFsndmlkZW9Nb2RhbENhcmQnXSksCiAgICByZXNvbHZlZFBhdGgoKSB7CiAgICAgIGlmICgKICAgICAgICAhdGhpcy52aWRlb01vZGFsQ2FyZC5wYXRoLmluY2x1ZGVzKCd5b3V0dWJlJykgfHwKICAgICAgICB0aGlzLnZpZGVvTW9kYWxDYXJkLnBhdGguaW5jbHVkZXMoJ2VtYmVkJykKICAgICAgKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9Nb2RhbENhcmQucGF0aAogICAgICB9CgogICAgICBjb25zdCBuZXdQYXRoID0gbmV3IFVSTCh0aGlzLnZpZGVvTW9kYWxDYXJkLnBhdGgpCiAgICAgIGNvbnN0IG9yaWdpbmFsU3RhcnRUaW1lID0gbmV3UGF0aC5zZWFyY2hQYXJhbXMuZ2V0KCd0JykKICAgICAgY29uc3Qgc3RhcnQgPQogICAgICAgIG9yaWdpbmFsU3RhcnRUaW1lICYmCiAgICAgICAgbmV3UGF0aC5zZWFyY2hQYXJhbXMKICAgICAgICAgIC5nZXQoJ3QnKQogICAgICAgICAgLnNsaWNlKDAsIG5ld1BhdGguc2VhcmNoUGFyYW1zLmdldCgndCcpLmxlbmd0aCAtIDEpCiAgICAgIGNvbnN0IGlkID0KICAgICAgICBuZXdQYXRoLnNlYXJjaFBhcmFtcy5nZXQoJ3YnKSB8fCBuZXdQYXRoLnNlYXJjaFBhcmFtcy5nZXQoJ2xpc3QnKQogICAgICBjb25zdCBpc0FMaXN0ID0gbmV3UGF0aC5wYXRobmFtZS5pbmNsdWRlcygnbGlzdCcpCgogICAgICByZXR1cm4gaXNBTGlzdAogICAgICAgID8gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL3ZpZGVvc2VyaWVzP2xpc3Q9JHtpZH1gCiAgICAgICAgOiBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHtpZH0/JHtzdGFydCA/IGBzdGFydD0ke3N0YXJ0fWAgOiAnJ31gCiAgICB9LAogICAgcmVzb2x2ZWREYXRlKCkgewogICAgICBkYXlqcy5leHRlbmQodXRjKQogICAgICByZXR1cm4gZGF5anMKICAgICAgICAudXRjKHRoaXMuZGF0ZSkKICAgICAgICAuZm9ybWF0KHRoaXMuJHRoZW1lTG9jYWxlQ29uZmlnLmRhdGVGb3JtYXQgfHwgJ1lZWVktTU0tREQnKQogICAgfSwKICAgIHJlc29sdmVkVGFncygpIHsKICAgICAgaWYgKAogICAgICAgICF0aGlzLnZpZGVvTW9kYWxDYXJkLmZyb250bWF0dGVyLnRhZ3MgfHwKICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMudmlkZW9Nb2RhbENhcmQuZnJvbnRtYXR0ZXIudGFncykKICAgICAgKQogICAgICAgIHJldHVybiB0aGlzLnZpZGVvTW9kYWxDYXJkLmZyb250bWF0dGVyLnRhZ3MKCiAgICAgIHJldHVybiB0aGlzLnZpZGVvTW9kYWxDYXJkLmZyb250bWF0dGVyLnRhZ3MKICAgICAgICAucmVwbGFjZSgvLCAvZywgJywnKQogICAgICAgIC5zcGxpdCgnLCcpCiAgICAgICAgLmZpbHRlcigodGFnKSA9PiB0YWcpCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2F0Q2xpY2soKSB7CiAgICAgIGNvbnN0IGNhdGVnb3J5VHJhY2tpbmcgPSB7CiAgICAgICAgY2F0ZWdvcnk6IHRoaXMudmlkZW9Nb2RhbENhcmQuZnJvbnRtYXR0ZXIudHlwZS5uYW1lLAogICAgICAgIG1ldGhvZDogJ3ZpZGVvLW1vZGFsLXNlbGVjdCcsCiAgICAgIH0KCiAgICAgIGNvdW50bHkudHJhY2tFdmVudChjb3VudGx5LmV2ZW50cy5GSUxURVIsIGNhdGVnb3J5VHJhY2tpbmcpCgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoCiAgICAgICAgJ2FwcFN0YXRlL3NldEFjdGl2ZUNhdGVnb3J5JywKICAgICAgICB0aGlzLnZpZGVvTW9kYWxDYXJkLmZyb250bWF0dGVyLnR5cGUKICAgICAgKQogICAgICB0aGlzLmNsb3NlTW9kYWwoKQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["VideoModalContent.vue"],"names":[],"mappings":";AA6EA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VideoModalContent.vue","sourceRoot":"src/.vuepress/theme/components/blog","sourcesContent":["<template>\n  <div class=\"group rounded flex flex-col\" itemprop=\"mainEntityOfPage\">\n    <article\n      itemprop=\"blogPost\"\n      itemscope\n      itemtype=\"https://schema.org/BlogPosting\"\n    >\n      <h1 class=\"type-h5 text-xl text-primary mr-4\">\n        <UnstyledLink :to=\"videoModalCard.path\" class=\"clamp-3 hover:underline\">\n          {{ videoModalCard.title }}\n        </UnstyledLink>\n      </h1>\n      <div class=\"cover embed-responsive embed-responsive-og my-4\">\n        <iframe\n          class=\"h-full w-full\"\n          type=\"text/html\"\n          :src=\"resolvedPath\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowfullscreen\n          frameborder=\"0\"\n        ></iframe>\n      </div>\n      <div class=\"text-sm\">\n        <time\n          class=\"text-gray-dark\"\n          pubdate\n          itemprop=\"datePublished\"\n          :datetime=\"videoModalCard.frontmatter.date\"\n        >\n          {{ resolvedDate }}\n        </time>\n        <div class=\"mt-3 flex flex-wrap\" itemprop=\"keywords\">\n          <button\n            v-if=\"videoModalCard.frontmatter.type\"\n            class=\"p-1 bg-aquaMuted leading-none bg-opacity-50 rounded text-blueGreen font-semibold hover:bg-blueGreen hover:text-white text-sm mr-1\"\n            @click=\"handleCatClick()\"\n          >\n            {{ videoModalCard.frontmatter.type.name }}\n          </button>\n          <PostTag\n            v-for=\"tag in resolvedTags\"\n            :key=\"tag.slug\"\n            :tag=\"tag\"\n            :callback=\"closeModal\"\n            class-name=\"text-sm\"\n            parent=\"video-modal\"\n          />\n        </div>\n      </div>\n      <footer class=\"flex-grow\">\n        <p\n          v-if=\"\n            videoModalCard.frontmatter.description ||\n            videoModalCard.frontmatter.description\n          \"\n          class=\"type-p1 text-primary clamp-5\"\n          itemprop=\"description\"\n        >\n          {{\n            videoModalCard.frontmatter.description ||\n            videoModalCard.frontmatter.description\n          }}\n        </p>\n      </footer>\n      <div class=\"flex items-end mt-4\">\n        <span class=\"text-sm text-gray-dark\">Share this item:</span>\n        <PostSocials\n          class=\"flex ml-2\"\n          :url=\"videoModalCard.path\"\n          :title=\"videoModalCard.frontmatter.title\"\n        />\n      </div>\n    </article>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport UnstyledLink from '@theme/components/UnstyledLink'\nimport PostSocials from '@theme/components/blog/PostSocials.vue'\nimport PostTag from '@theme/components/blog/PostTag'\n\nimport countly from '../../util/countly'\n\nexport default {\n  name: 'VideoModalContent',\n  components: { UnstyledLink, PostSocials, PostTag },\n  props: {\n    closeModal: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  computed: {\n    ...mapState('appState', ['videoModalCard']),\n    resolvedPath() {\n      if (\n        !this.videoModalCard.path.includes('youtube') ||\n        this.videoModalCard.path.includes('embed')\n      ) {\n        return this.videoModalCard.path\n      }\n\n      const newPath = new URL(this.videoModalCard.path)\n      const originalStartTime = newPath.searchParams.get('t')\n      const start =\n        originalStartTime &&\n        newPath.searchParams\n          .get('t')\n          .slice(0, newPath.searchParams.get('t').length - 1)\n      const id =\n        newPath.searchParams.get('v') || newPath.searchParams.get('list')\n      const isAList = newPath.pathname.includes('list')\n\n      return isAList\n        ? `https://www.youtube.com/embed/videoseries?list=${id}`\n        : `https://www.youtube.com/embed/${id}?${start ? `start=${start}` : ''}`\n    },\n    resolvedDate() {\n      dayjs.extend(utc)\n      return dayjs\n        .utc(this.date)\n        .format(this.$themeLocaleConfig.dateFormat || 'YYYY-MM-DD')\n    },\n    resolvedTags() {\n      if (\n        !this.videoModalCard.frontmatter.tags ||\n        Array.isArray(this.videoModalCard.frontmatter.tags)\n      )\n        return this.videoModalCard.frontmatter.tags\n\n      return this.videoModalCard.frontmatter.tags\n        .replace(/, /g, ',')\n        .split(',')\n        .filter((tag) => tag)\n    },\n  },\n  methods: {\n    handleCatClick() {\n      const categoryTracking = {\n        category: this.videoModalCard.frontmatter.type.name,\n        method: 'video-modal-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, categoryTracking)\n\n      this.$store.commit(\n        'appState/setActiveCategory',\n        this.videoModalCard.frontmatter.type\n      )\n      this.closeModal()\n    },\n  },\n}\n</script>\n"]}]}