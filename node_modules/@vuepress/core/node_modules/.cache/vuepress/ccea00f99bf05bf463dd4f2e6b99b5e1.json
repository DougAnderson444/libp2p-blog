{"remainingRequest":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/Comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/Comments.vue","mtime":1669099258318},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js","mtime":1669100514953},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js","mtime":1669100514895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmNvbnN0IHNhZmVQZXJtYWxpbmsgPSAocGVybWFsaW5rLCBkYXRlKSA9PiB7CiAgbGV0IGRvbWFpbiA9ICdodHRwczovL2xpYnAycC5pby9ibG9nLycKICB0cnkgewogICAgLy8gVXNlIG9sZCBkb21haW4gZm9yIGxlZ2FjeSBjb21tZW50IHRoZWFkcwogICAgLy8gY3JlYXRlZCBiZWZvcmUgd2Ugc3dpdGNoZWQgdG8gdGhlIG5ldyBkb21haW4KICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pcGZzL2lwZnMtYmxvZy9pc3N1ZXMvNDE3CiAgICBpZiAobmV3IERhdGUoZGF0ZSkgPCBuZXcgRGF0ZSgnMjAyMi0wOC0xNScpKSB7CiAgICAgICAgZG9tYWluID0gJ2h0dHBzOi8vYmxvZy5pcGZzLmlvLycKICAgIH0KICB9IGNhdGNoIChlKSB7CiAgICBjb25zb2xlLmVycm9yKCd1bmFibGUgdG8gcGFyc2UgdGhpcy4kZnJvbnRtYXR0ZXIuZGF0ZScsIGUpCiAgfQogIC8vIGh0dHBzOi8vbWV0YS5kaXNjb3Vyc2Uub3JnL3QvcmVmZXJlci13aXRoLWRvbWFpbi1uYW1lLWluLXRoZS1zbHVnLWJyZWFrcy1jb21tZW50cy1lbWJlZC8yMDQ4MDcvND91PWxpZGVsCiAgY29uc3QgdXJsID0gbmV3IFVSTChkb21haW4pCiAgdXJsLnBhdGhuYW1lID0gcGVybWFsaW5rCiAgcmV0dXJuIHVybC50b1N0cmluZygpCn0KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb21tZW50cycsCiAgY29tcG9uZW50czoge30sCiAgY29tcHV0ZWQ6IHsKICAgIGVtYmVkU3JjKCkgewogICAgICByZXR1cm4gYGh0dHBzOi8vZGlzY3Vzcy5saWJwMnAuaW8vZW1iZWQvY29tbWVudHM/ZW1iZWRfdXJsPSR7c2FmZVBlcm1hbGluayh0aGlzLiRmcm9udG1hdHRlci5wZXJtYWxpbmssIHRoaXMuJGZyb250bWF0dGVyLmRhdGUpfWAKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgd2luZG93LkRpc2NvdXJzZUVtYmVkID0gewogICAgICBkaXNjb3Vyc2VVcmw6ICdodHRwczovL2Rpc2N1c3MubGlicDJwLmlvLycsCiAgICAgIGRpc2NvdXJzZUVtYmVkVXJsOiBzYWZlUGVybWFsaW5rKHRoaXMuJGZyb250bWF0dGVyLnBlcm1hbGluaywgdGhpcy4kZnJvbnRtYXR0ZXIuZGF0ZSksCiAgICB9CiAgICBjb25zdCBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykKICAgIGQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnCiAgICBkLmFzeW5jID0gdHJ1ZQogICAgZC5zcmMgPSB3aW5kb3cuRGlzY291cnNlRW1iZWQuZGlzY291cnNlVXJsICsgJ2phdmFzY3JpcHRzL2VtYmVkLmpzJwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChkKQogIH0sCn0K"},{"version":3,"sources":["Comments.vue"],"names":[],"mappings":";AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comments.vue","sourceRoot":"src/.vuepress/theme/components/blog","sourcesContent":["<template>\n  <div>\n    <h2 class=\"type-h2\">Comments</h2>\n    <div id=\"discourse-comments\" class=\"mt-4 mb-24\"></div>\n  </div>\n</template>\n\n<script>\nconst safePermalink = (permalink, date) => {\n  let domain = 'https://libp2p.io/blog/'\n  try {\n    // Use old domain for legacy comment theads\n    // created before we switched to the new domain\n    // https://github.com/ipfs/ipfs-blog/issues/417\n    if (new Date(date) < new Date('2022-08-15')) {\n        domain = 'https://blog.ipfs.io/'\n    }\n  } catch (e) {\n    console.error('unable to parse this.$frontmatter.date', e)\n  }\n  // https://meta.discourse.org/t/referer-with-domain-name-in-the-slug-breaks-comments-embed/204807/4?u=lidel\n  const url = new URL(domain)\n  url.pathname = permalink\n  return url.toString()\n}\nexport default {\n  name: 'Comments',\n  components: {},\n  computed: {\n    embedSrc() {\n      return `https://discuss.libp2p.io/embed/comments?embed_url=${safePermalink(this.$frontmatter.permalink, this.$frontmatter.date)}`\n    },\n  },\n  mounted() {\n    window.DiscourseEmbed = {\n      discourseUrl: 'https://discuss.libp2p.io/',\n      discourseEmbedUrl: safePermalink(this.$frontmatter.permalink, this.$frontmatter.date),\n    }\n    const d = document.createElement('script')\n    d.type = 'text/javascript'\n    d.async = true\n    d.src = window.DiscourseEmbed.discourseUrl + 'javascripts/embed.js'\n    document.getElementsByTagName('body')[0].appendChild(d)\n  },\n}\n</script>\n"]}]}