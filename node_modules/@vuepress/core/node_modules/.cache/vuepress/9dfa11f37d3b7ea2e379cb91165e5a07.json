{"remainingRequest":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/SearchCategoriesAndTags.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/prithvi/lab/blog/src/.vuepress/theme/components/blog/SearchCategoriesAndTags.vue","mtime":1669098253301},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/babel-loader/lib/index.js","mtime":1669100514953},{"path":"/Users/prithvi/lab/blog/node_modules/cache-loader/dist/cjs.js","mtime":1669100514958},{"path":"/Users/prithvi/lab/blog/node_modules/vue-loader/lib/index.js","mtime":1669100514895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICd2dWUtbXVsdGlzZWxlY3QnCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKCmltcG9ydCBjb3VudGx5IGZyb20gJy4uLy4uL3V0aWwvY291bnRseScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2VhcmNoQ2F0ZWdvcmllc0FuZFRhZ3MnLAogIGNvbXBvbmVudHM6IHsgTXVsdGlzZWxlY3QgfSwKICBwcm9wczogewogICAgdGFnczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gWydsaXN0JywgJ29mJywgJ3RhZ3MnLCAnIyddLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZFRhZ3M6IFtdLAogICAgICBzZWFyY2hlZFdvcmRzOiBbXSwKICAgICAgc2VsZWN0ZWRJbnB1dDogMCwKICAgICAgdGFnc0xpbWl0OiA5OSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnYXBwU3RhdGUnLCBbCiAgICAgICdjYXRlZ29yaWVzTGlzdCcsCiAgICAgICd0YWdzTGlzdCcsCiAgICAgICdhY3RpdmVDYXRlZ29yeScsCiAgICAgICdhY3RpdmVUYWdzJywKICAgICAgJ3NlYXJjaGVkVGV4dCcsCiAgICBdKSwKICAgIHJlc29sdmVkVGFncygpIHsKICAgICAgcmV0dXJuIHRoaXMudGFncy5tYXAoKHRhZykgPT4gKHsKICAgICAgICBuYW1lOiB0YWcubmFtZSwKICAgICAgICB2YWx1ZTogdGFnLnNsdWcsCiAgICAgIH0pKQogICAgfSwKICAgIHF1ZXJ5UHJvcHRlcnR5V2F0Y2hsaXN0KCkgewogICAgICByZXR1cm4gYCR7dGhpcy5hY3RpdmVUYWdzfXwke3RoaXMuc2VhcmNoZWRUZXh0fWAKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgcXVlcnlQcm9wdGVydHlXYXRjaGxpc3QoKSB7CiAgICAgIHRoaXMudXBkYXRlVGFnc1dpdGhRdWVyeSgpCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY2FsY3VsYXRlVGFnc0xpbWl0KCkKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy50YWdzRXZlbnQpCiAgICB9CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMudGFnc0V2ZW50KQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdGFnc0V2ZW50KCkgewogICAgICBpZiAoWyd4eGwnXS5pbmNsdWRlcyh0aGlzLiRtcSkpIHsKICAgICAgICB0aGlzLmNhbGN1bGF0ZVRhZ3NMaW1pdCgpCiAgICAgIH0KICAgIH0sCiAgICBjYWxjdWxhdGVUYWdzTGltaXQobmV3VGFncykgewogICAgICAvLyBUaGUgbWF4IHZhbHVlIGEgY2hhciBjaGFuIG9jY3VweSBpbiBweAogICAgICBjb25zdCBtdWx0aXBsaWVyID0gMTIKICAgICAgLy8gV2lkdGggb2YgdGhlIGhlbHAgdGV4dCAtICJYIG9yIG1vcmUiCiAgICAgIGNvbnN0IGhlbHBUZXh0V2lkdGggPSA3NQogICAgICAvLyBQYWRkaW5nIGFuZCBtYXJnaW4gZm9yIHRoZSBlYWNoIHRhZwogICAgICBjb25zdCB0YWdQYWRkaW5nID0gNDYKICAgICAgbGV0IGxpbWl0ID0gdGhpcy50YWdzTGlzdC5sZW5ndGgKCiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLiRyZWZzLnNlbGVjdDEpIHsKICAgICAgICBjb25zdCB0YWdzRWwgPSB0aGlzLiRyZWZzLnNlbGVjdDEuJGVsLmNoaWxkTm9kZXNbMl0KICAgICAgICBjb25zdCB0YWdzU3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGFnc0VsKQogICAgICAgIC8vIFdpZHRoIG9mIHRoZSB0YWdzIGNvbnRhaW5lcgogICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0KICAgICAgICAgIHRhZ3NFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtCiAgICAgICAgICBwYXJzZUZsb2F0KHRhZ3NTdHlsZXMucGFkZGluZ0xlZnQpIC0KICAgICAgICAgIHBhcnNlRmxvYXQodGFnc1N0eWxlcy5wYWRkaW5nUmlnaHQpCgogICAgICAgIGNvbnN0IHRhZ05hbWVzID0gKG5ld1RhZ3MgfHwgdGhpcy5zZWxlY3RlZFRhZ3MpLm1hcCgodGFnKSA9PiB0YWcubmFtZSkKICAgICAgICBjb25zdCB0YWdzID0gdGFnTmFtZXMubWFwKAogICAgICAgICAgKHRhZ05hbWUpID0+IHRhZ1BhZGRpbmcgKyB0YWdOYW1lLmxlbmd0aCAqIG11bHRpcGxpZXIKICAgICAgICApCiAgICAgICAgY29uc3QgZXN0aW1hdGVkVGFnc1dpZHRoID0gdGFncy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKQoKICAgICAgICBpZiAoZXN0aW1hdGVkVGFnc1dpZHRoID4gYXZhaWxhYmxlV2lkdGgpIHsKICAgICAgICAgIGxldCBjaGFyQ291bnQgPSBoZWxwVGV4dFdpZHRoCgogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWdzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChjaGFyQ291bnQgKyB0YWdzW2ldID4gYXZhaWxhYmxlV2lkdGgpIHsKICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9CgogICAgICAgICAgICBjaGFyQ291bnQgKz0gdGFnc1tpXQoKICAgICAgICAgICAgbGltaXQgPSBpICsgMQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy50YWdzTGltaXQgPSBsaW1pdAogICAgfSwKICAgIHVwZGF0ZVRhZ3NXaXRoUXVlcnkoKSB7CiAgICAgIGNvbnN0IHsgcXVlcnkgfSA9IHRoaXMuJHJvdXRlCgogICAgICBjb25zdCBxdWVyeVRhZ3MgPSBxdWVyeS50YWdzID8gcXVlcnkudGFncy5zcGxpdCgnLCcpIDogW10KICAgICAgY29uc3QgcXVlcnlTZWFyY2ggPSBxdWVyeS5zZWFyY2ggPyBxdWVyeS5zZWFyY2guc3BsaXQoJywnKSA6IFtdCiAgICAgIGNvbnN0IHRhZ3NMaXN0U2x1Z3MgPSB0aGlzLnRhZ3NMaXN0Lm1hcCgodGFnKSA9PiB0YWcuc2x1ZykKCiAgICAgIGNvbnN0IHRhZ0FycmF5ID0gdGhpcy5zZWxlY3RlZFRhZ3MubWFwKCh0YWcpID0+IHRhZy52YWx1ZSkKICAgICAgY29uc3QgdGFnc1RvQWRkID0gWy4uLnF1ZXJ5VGFncywgLi4ucXVlcnlTZWFyY2hdLmZpbHRlcigKICAgICAgICAodGFnKSA9PiAhdGFnQXJyYXkuaW5jbHVkZXModGFnKQogICAgICApCiAgICAgIGNvbnN0IHRhZ3NUb1JlbW92ZSA9IHRhZ0FycmF5LmZpbHRlcigKICAgICAgICAodGFnKSA9PiB0YWdzTGlzdFNsdWdzLmluY2x1ZGVzKHRhZykgJiYgIXF1ZXJ5VGFncy5pbmNsdWRlcyh0YWcpCiAgICAgICkKICAgICAgY29uc3QgdGV4dHNUb1JlbW92ZSA9IHRhZ0FycmF5LmZpbHRlcigKICAgICAgICAodGFnKSA9PiAhdGFnc0xpc3RTbHVncy5pbmNsdWRlcyh0YWcpICYmICFxdWVyeVNlYXJjaC5pbmNsdWRlcyh0YWcpCiAgICAgICkKCiAgICAgIGNvbnN0IG5ld1RhZ3MgPSB0aGlzLnNlbGVjdGVkVGFncy5maWx0ZXIoCiAgICAgICAgKHRhZykgPT4KICAgICAgICAgICF0YWdzVG9SZW1vdmUuaW5jbHVkZXModGFnLnZhbHVlKSAmJgogICAgICAgICAgIXRleHRzVG9SZW1vdmUuaW5jbHVkZXModGFnLnZhbHVlKQogICAgICApCgogICAgICB0YWdzVG9BZGQuZm9yRWFjaCgodGFnKSA9PiB7CiAgICAgICAgY29uc3QgZmlsdGVyZWRUYWcgPSB0aGlzLnRhZ3NMaXN0LmZpbmQoCiAgICAgICAgICAobGlzdFRhZykgPT4gbGlzdFRhZy5zbHVnID09PSB0YWcKICAgICAgICApCgogICAgICAgIG5ld1RhZ3MucHVzaCh7CiAgICAgICAgICBuYW1lOiBmaWx0ZXJlZFRhZyA/IGZpbHRlcmVkVGFnLm5hbWUgOiB0YWcsCiAgICAgICAgICB2YWx1ZTogZmlsdGVyZWRUYWcgPyBmaWx0ZXJlZFRhZy5zbHVnIDogdGFnLAogICAgICAgIH0pCiAgICAgIH0pCgogICAgICB0aGlzLnNlbGVjdGVkVGFncyA9IG5ld1RhZ3MKICAgIH0sCiAgICBzZXRBY3RpdmVDYXRlZ29yeShjYXRlZ29yeSkgewogICAgICBjb25zdCBjYXRlZ29yeVRyYWNraW5nID0gewogICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5uYW1lLAogICAgICAgIG1ldGhvZDogJ2ZpbHRlci1zZWxlY3QnLAogICAgICB9CgogICAgICBjb3VudGx5LnRyYWNrRXZlbnQoY291bnRseS5ldmVudHMuRklMVEVSLCBjYXRlZ29yeVRyYWNraW5nKQoKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICdhcHBTdGF0ZS9zZXRBY3RpdmVDYXRlZ29yeScsCiAgICAgICAgdGhpcy5jYXRlZ29yaWVzTGlzdAogICAgICAgICAgLm1hcCgoY2F0ZWdvcnkpID0+IGNhdGVnb3J5LnNsdWcpCiAgICAgICAgICAuaW5jbHVkZXMoY2F0ZWdvcnkuc2x1ZykKICAgICAgICAgID8gY2F0ZWdvcnkKICAgICAgICAgIDogJycKICAgICAgKQogICAgfSwKICAgIHJlbW92ZVRhZyh0YWdUb1JlbW92ZSkgewogICAgICBpZiAodGhpcy5hY3RpdmVUYWdzLmxlbmd0aCA+IDAgfHwgdGhpcy5zZWFyY2hlZFRleHQubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzID0gdGhpcy5zZWxlY3RlZFRhZ3MuZmlsdGVyKAogICAgICAgICAgKHRhZykgPT4gdGFnLnZhbHVlICE9PSB0YWdUb1JlbW92ZS52YWx1ZQogICAgICAgICkKICAgICAgICB0aGlzLmhhbmRsZVNlYXJjaCgpCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTZWFyY2goKSB7CiAgICAgIGNvbnN0IHRhZ0FycmF5ID0gdGhpcy5zZWxlY3RlZFRhZ3MubWFwKCh0YWcpID0+IHRhZy52YWx1ZSkKICAgICAgY29uc3QgdGFnc0xpc3RTbHVncyA9IHRoaXMudGFnc0xpc3QubWFwKCh0YWcpID0+IHRhZy5zbHVnKQogICAgICBjb25zdCB0YWdzID0gdGFnQXJyYXkuZmlsdGVyKCh0YWcpID0+IHRhZ3NMaXN0U2x1Z3MuaW5jbHVkZXModGFnKSkKICAgICAgY29uc3QgdGV4dHMgPSB0YWdBcnJheS5maWx0ZXIoKHRhZykgPT4gIXRhZ3NMaXN0U2x1Z3MuaW5jbHVkZXModGFnKSkKCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYXBwU3RhdGUvc2V0QWN0aXZlVGFncycsIHRhZ3MpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYXBwU3RhdGUvc2V0U2VhcmNoZWRUZXh0JywgdGV4dHMpCiAgICB9LAogICAgaGFuZGxlQWRkVGFnKHRleHQpIHsKICAgICAgY29uc3Qgb3B0aW9uID0gewogICAgICAgIG5hbWU6IHRleHQsCiAgICAgICAgdmFsdWU6IHRleHQsCiAgICAgIH0KCiAgICAgIGNvbnN0IHRleHRUcmFja2luZyA9IHsKICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgIG1ldGhvZDogJ2ZpbHRlci1zZWxlY3QnLAogICAgICB9CgogICAgICBjb3VudGx5LnRyYWNrRXZlbnQoY291bnRseS5ldmVudHMuRklMVEVSLCB0ZXh0VHJhY2tpbmcpCgogICAgICB0aGlzLnNlbGVjdGVkVGFncy5wdXNoKG9wdGlvbikKICAgICAgdGhpcy5jYWxjdWxhdGVUYWdzTGltaXQoWy4uLnRoaXMuc2VsZWN0ZWRUYWdzLCBvcHRpb25dKQogICAgICB0aGlzLiRyZWZzLnNlbGVjdDIuZm9jdXMoKQogICAgfSwKICAgIGZvY3VzT25TdWJtaXQob3B0aW9uKSB7CiAgICAgIGNvbnN0IHRhZ1RyYWNraW5nID0gewogICAgICAgIHRhZzogb3B0aW9uLm5hbWUsCiAgICAgICAgbWV0aG9kOiAnZmlsdGVyLXNlbGVjdCcsCiAgICAgIH0KCiAgICAgIGNvdW50bHkudHJhY2tFdmVudChjb3VudGx5LmV2ZW50cy5GSUxURVIsIHRhZ1RyYWNraW5nKQoKICAgICAgdGhpcy5jYWxjdWxhdGVUYWdzTGltaXQoKQogICAgICB0aGlzLiRyZWZzLnNlbGVjdDIuZm9jdXMoKQogICAgfSwKICAgIGhhbmRsZUtleVVwKHN3aXRjaGVyKSB7CiAgICAgIGNvbnN0IGZ1dHVyZUZvY3VzID0gdGhpcy5zZWxlY3RlZElucHV0ICsgc3dpdGNoZXIKICAgICAgbGV0IGZ1dHVyZUluZGV4ID0gMgoKICAgICAgaWYgKHN3aXRjaGVyID09PSAtMSkgewogICAgICAgIGZ1dHVyZUluZGV4ID0gZnV0dXJlRm9jdXMgPj0gMCA/IGZ1dHVyZUZvY3VzIDogMgogICAgICB9IGVsc2UgewogICAgICAgIGZ1dHVyZUluZGV4ID0gZnV0dXJlRm9jdXMgPD0gMiA/IGZ1dHVyZUZvY3VzIDogMAogICAgICB9CgogICAgICBpZiAoZnV0dXJlSW5kZXggPT09IDIpIHsKICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdDIuZm9jdXMoKQogICAgICAgIHRoaXMuc2VsZWN0ZWRJbnB1dCA9IDIKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzWydzZWxlY3QnICsgZnV0dXJlSW5kZXhdLiRlbC5mb2N1cygpCiAgICAgIH0KICAgIH0sCiAgICBzZXRTZWxlY3RlZChpbmRleCkgewogICAgICB0aGlzLnNlbGVjdGVkSW5wdXQgPSBpbmRleAogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["SearchCategoriesAndTags.vue"],"names":[],"mappings":";AA8DA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchCategoriesAndTags.vue","sourceRoot":"src/.vuepress/theme/components/blog","sourcesContent":["<template>\n  <div>\n    <div class=\"mb-2\">Filter items by type:</div>\n    <div\n      class=\"flex flex-col xl:flex-row\"\n      @keyup.left=\"handleKeyUp(-1)\"\n      @keyup.right=\"handleKeyUp(1)\"\n    >\n      <multiselect\n        ref=\"select0\"\n        :value=\"\n          activeCategory !== '' ? activeCategory : { name: 'All content' }\n        \"\n        class=\"mb-2 xl:mb-0 xl:mr-2 xl:max-w-xs\"\n        :options=\"[{ name: 'All content' }, ...categoriesList]\"\n        label=\"name\"\n        track-by=\"name\"\n        :searchable=\"false\"\n        :allow-empty=\"false\"\n        select-label=\"Press 'enter' to select\"\n        deselect-label=\"\"\n        @input=\"setActiveCategory\"\n        @open=\"setSelected(0)\"\n      />\n      <multiselect\n        ref=\"select1\"\n        v-model=\"selectedTags\"\n        class=\"mb-2 xl:mb-0 xl:mr-2\"\n        tag-placeholder=\"search for this text\"\n        placeholder=\"Search for words or #tags\"\n        track-by=\"name\"\n        :custom-label=\"\n          (option) =>\n            tagsList.map((tag) => tag.name).includes(option.name)\n              ? `#${option.name}`\n              : option.name\n        \"\n        :limit=\"['xxl'].includes($mq) ? tagsLimit : tagsList.length\"\n        :options=\"resolvedTags\"\n        :multiple=\"true\"\n        :taggable=\"true\"\n        select-label=\"Press 'enter' to select\"\n        deselect-label=\"Press 'enter' to remove\"\n        @tag=\"handleAddTag\"\n        @remove=\"removeTag\"\n        @select=\"focusOnSubmit\"\n        @open=\"setSelected(1)\"\n      ></multiselect>\n\n      <button\n        ref=\"select2\"\n        class=\"h-full p-2 text-white font-semibold bg-blueGreen rounded hover:bg-blueGreenScreen transition duration-300 ease-in-out\"\n        @click=\"handleSearch\"\n        @focus=\"setSelected(2)\"\n      >\n        Search\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Multiselect from 'vue-multiselect'\nimport { mapState } from 'vuex'\n\nimport countly from '../../util/countly'\n\nexport default {\n  name: 'SearchCategoriesAndTags',\n  components: { Multiselect },\n  props: {\n    tags: {\n      type: Array,\n      default: () => ['list', 'of', 'tags', '#'],\n    },\n  },\n  data() {\n    return {\n      selectedTags: [],\n      searchedWords: [],\n      selectedInput: 0,\n      tagsLimit: 99,\n    }\n  },\n  computed: {\n    ...mapState('appState', [\n      'categoriesList',\n      'tagsList',\n      'activeCategory',\n      'activeTags',\n      'searchedText',\n    ]),\n    resolvedTags() {\n      return this.tags.map((tag) => ({\n        name: tag.name,\n        value: tag.slug,\n      }))\n    },\n    queryProptertyWatchlist() {\n      return `${this.activeTags}|${this.searchedText}`\n    },\n  },\n  watch: {\n    queryProptertyWatchlist() {\n      this.updateTagsWithQuery()\n    },\n  },\n  created() {\n    this.calculateTagsLimit()\n    if (typeof window !== 'undefined') {\n      window.addEventListener('resize', this.tagsEvent)\n    }\n  },\n  destroyed() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('resize', this.tagsEvent)\n    }\n  },\n  methods: {\n    tagsEvent() {\n      if (['xxl'].includes(this.$mq)) {\n        this.calculateTagsLimit()\n      }\n    },\n    calculateTagsLimit(newTags) {\n      // The max value a char chan occupy in px\n      const multiplier = 12\n      // Width of the help text - \"X or more\"\n      const helpTextWidth = 75\n      // Padding and margin for the each tag\n      const tagPadding = 46\n      let limit = this.tagsList.length\n\n      if (typeof window !== 'undefined' && this.$refs.select1) {\n        const tagsEl = this.$refs.select1.$el.childNodes[2]\n        const tagsStyles = window.getComputedStyle(tagsEl)\n        // Width of the tags container\n        const availableWidth =\n          tagsEl.getBoundingClientRect().width -\n          parseFloat(tagsStyles.paddingLeft) -\n          parseFloat(tagsStyles.paddingRight)\n\n        const tagNames = (newTags || this.selectedTags).map((tag) => tag.name)\n        const tags = tagNames.map(\n          (tagName) => tagPadding + tagName.length * multiplier\n        )\n        const estimatedTagsWidth = tags.reduce((a, b) => a + b, 0)\n\n        if (estimatedTagsWidth > availableWidth) {\n          let charCount = helpTextWidth\n\n          for (let i = 0; i < tags.length; i++) {\n            if (charCount + tags[i] > availableWidth) {\n              break\n            }\n\n            charCount += tags[i]\n\n            limit = i + 1\n          }\n        }\n      }\n\n      this.tagsLimit = limit\n    },\n    updateTagsWithQuery() {\n      const { query } = this.$route\n\n      const queryTags = query.tags ? query.tags.split(',') : []\n      const querySearch = query.search ? query.search.split(',') : []\n      const tagsListSlugs = this.tagsList.map((tag) => tag.slug)\n\n      const tagArray = this.selectedTags.map((tag) => tag.value)\n      const tagsToAdd = [...queryTags, ...querySearch].filter(\n        (tag) => !tagArray.includes(tag)\n      )\n      const tagsToRemove = tagArray.filter(\n        (tag) => tagsListSlugs.includes(tag) && !queryTags.includes(tag)\n      )\n      const textsToRemove = tagArray.filter(\n        (tag) => !tagsListSlugs.includes(tag) && !querySearch.includes(tag)\n      )\n\n      const newTags = this.selectedTags.filter(\n        (tag) =>\n          !tagsToRemove.includes(tag.value) &&\n          !textsToRemove.includes(tag.value)\n      )\n\n      tagsToAdd.forEach((tag) => {\n        const filteredTag = this.tagsList.find(\n          (listTag) => listTag.slug === tag\n        )\n\n        newTags.push({\n          name: filteredTag ? filteredTag.name : tag,\n          value: filteredTag ? filteredTag.slug : tag,\n        })\n      })\n\n      this.selectedTags = newTags\n    },\n    setActiveCategory(category) {\n      const categoryTracking = {\n        category: category.name,\n        method: 'filter-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, categoryTracking)\n\n      this.$store.commit(\n        'appState/setActiveCategory',\n        this.categoriesList\n          .map((category) => category.slug)\n          .includes(category.slug)\n          ? category\n          : ''\n      )\n    },\n    removeTag(tagToRemove) {\n      if (this.activeTags.length > 0 || this.searchedText.length > 0) {\n        this.selectedTags = this.selectedTags.filter(\n          (tag) => tag.value !== tagToRemove.value\n        )\n        this.handleSearch()\n      }\n    },\n    handleSearch() {\n      const tagArray = this.selectedTags.map((tag) => tag.value)\n      const tagsListSlugs = this.tagsList.map((tag) => tag.slug)\n      const tags = tagArray.filter((tag) => tagsListSlugs.includes(tag))\n      const texts = tagArray.filter((tag) => !tagsListSlugs.includes(tag))\n\n      this.$store.commit('appState/setActiveTags', tags)\n      this.$store.commit('appState/setSearchedText', texts)\n    },\n    handleAddTag(text) {\n      const option = {\n        name: text,\n        value: text,\n      }\n\n      const textTracking = {\n        text: text,\n        method: 'filter-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, textTracking)\n\n      this.selectedTags.push(option)\n      this.calculateTagsLimit([...this.selectedTags, option])\n      this.$refs.select2.focus()\n    },\n    focusOnSubmit(option) {\n      const tagTracking = {\n        tag: option.name,\n        method: 'filter-select',\n      }\n\n      countly.trackEvent(countly.events.FILTER, tagTracking)\n\n      this.calculateTagsLimit()\n      this.$refs.select2.focus()\n    },\n    handleKeyUp(switcher) {\n      const futureFocus = this.selectedInput + switcher\n      let futureIndex = 2\n\n      if (switcher === -1) {\n        futureIndex = futureFocus >= 0 ? futureFocus : 2\n      } else {\n        futureIndex = futureFocus <= 2 ? futureFocus : 0\n      }\n\n      if (futureIndex === 2) {\n        this.$refs.select2.focus()\n        this.selectedInput = 2\n      } else {\n        this.$refs['select' + futureIndex].$el.focus()\n      }\n    },\n    setSelected(index) {\n      this.selectedInput = index\n    },\n  },\n}\n</script>\n\n<style>\n.multiselect__tag,\n.multiselect__tag-icon:hover,\n.multiselect__option--highlight,\n.multiselect__option--highlight::after {\n  @apply bg-blueGreen;\n}\n\n.multiselect__tag-icon::after {\n  color: white;\n  opacity: 0.5;\n}\n\n.multiselect__tag-icon:hover::after {\n  opacity: 1;\n}\n\n.multiselect__option--highlight.multiselect__option--selected,\n.multiselect__option--highlight.multiselect__option--selected::after {\n  @apply bg-aquaMuted;\n}\n\n.multiselect__placeholder,\n.multiselect__input {\n  height: 1.5rem;\n  margin-bottom: 0;\n  padding-top: 0;\n  padding-left: 0.3125rem;\n  font-size: 1rem;\n}\n\n.multiselect__tags {\n  display: flex;\n  flex-wrap: wrap;\n  border: none;\n}\n\n.multiselect__tags-wrap {\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.multiselect__tag {\n  margin-bottom: 0.5rem;\n}\n\n.multiselect--active .multiselect__tags {\n  padding-bottom: 0.5rem;\n}\n\n.multiselect__single,\n.multiselect__strong {\n  margin-bottom: 0;\n}\n</style>\n"]}]}